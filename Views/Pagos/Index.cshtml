@model IEnumerable<Inmobiliaria10.Models.Pago>
@{
    ViewData["Title"] = "Pagos";
    int? contratoSel  = ViewBag.Contrato as int?;;
}
<div class="filtrosForm">
  <body id="page-pagos-index">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="mb-0">Pagos</h2>
      <div class="d-flex gap-2">
        @if (User.IsInRole("Administrador"))
        {
          <a href="/Pagos/Auditoria" class="btn btn-dark">
            <i class="bi bi-clock-history"></i> Auditoría
          </a>
        }
        <a asp-action="Morosos" class="btn btn-warning">
          <i class="fa-solid fa-triangle-exclamation"></i> Morosos
        </a>
        <a id="btnNuevo" class="btn btn-success" href="/Pagos/Crear" style="height:38px;">
          <i class="bi bi-plus-lg"></i> Nuevo Pago
        </a>
      </div>
    </div>
    <br/><br/>
    <form method="get" class="row g-2 mb-3 align-items-end" id="frmFiltros">
      <div class="col-12 col-md-6 d-flex align-items-center">
        <label for="fContrato" class="me-2 fw-bold">Contrato</label>
        <select id="fContrato" name="contrato" 
                class="form-select form-select-lg flex-grow-1"
                style="max-width: 400px, height:100px;">
        </select>
      </div>
    </form>

    <table id="tblPagos" class="table table-striped align-middle w-100">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Mes</th> 
          <th>Año</th>
          <th>Detalle</th>
          <th>Concepto</th>
          <th class="text-end">Importe</th>
          <th>Contrato</th>
          <th>Estado</th>
          <th class="text-end" style="width:260px;">Acciones</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </body>
</div>
@section Scripts {
    <script src="~/js/pagos.js" asp-append-version="true"></script>
}