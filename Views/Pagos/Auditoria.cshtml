@model IEnumerable<Inmobiliaria10.Models.ViewModels.PagoAuditViewModel>

<div class="card">
    <div class="card-header bg-dark text-white">
        <i class="bi bi-journal-text"></i> Auditor√≠a de Pagos
    </div>

    <!-- üîπ Filtros din√°micos -->
    <form id="filtros" class="row g-2 mb-3 px-3 pt-3">
        <div class="col-md-4">
            <label for="fUsuario" class="form-label">Usuario</label>
            <select id="fUsuario" class="form-select"></select>
        </div>
        <div class="col-md-4">
            <label for="fContrato" class="form-label">Contrato</label>
            <select id="fContrato" class="form-select"></select>
        </div>
        <div class="col-md-4">
            <label for="fConcepto" class="form-label">Concepto</label>
            <select id="fConcepto" class="form-select"></select>
        </div>
    </form>

    <div class="card-body">
        <table id="tablaAuditoria" class="table table-striped table-bordered w-100">
            <thead class="table-light">
                <tr>
                    <th>Acci√≥n</th>
                    <th>Fecha</th>
                    <th>Usuario</th>
                    <th>Datos anteriores</th>
                    <th>Datos nuevos</th>
                </tr>
            </thead>
            <!-- üîπ El tbody queda vac√≠o: lo llena DataTables por AJAX -->
            <tbody></tbody>
        </table>
    </div>
</div>

@section Scripts {
    <script>
        // Pasamos conceptos del ViewBag a JS global
        window.Conceptos = @Html.Raw(System.Text.Json.JsonSerializer.Serialize(ViewBag.Conceptos));
    </script>
    <script src="~/js/auditoria.js"></script>
}
